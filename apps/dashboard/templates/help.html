{% extends 'dashboard_base.html' %}
{% load static %}

{% block title %}Help & Support - SISIMPUR{% endblock %}

{% block head %}
<style>
/* Help Page Styles */
.help-container {
  max-width: 1000px;
  margin: 0 auto;
}

.help-hero {
  text-align: center;
  padding: 40px 20px;
  background: linear-gradient(135deg, rgba(94, 23, 235, 0.1), rgba(0, 212, 255, 0.1));
  border-radius: 16px;
  margin-bottom: 40px;
  border: 1px solid rgba(94, 23, 235, 0.2);
}

.help-hero h1 {
  color: #ffffff;
  font-size: 2.5rem;
  font-weight: 600;
  margin-bottom: 16px;
}

.help-hero p {
  color: #aaaaaa;
  font-size: 1.1rem;
  max-width: 600px;
  margin: 0 auto;
}

.help-search {
  max-width: 500px;
  margin: 30px auto 0;
  position: relative;
}

.help-search input {
  width: 100%;
  padding: 16px 50px 16px 20px;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: #ffffff;
  font-size: 1rem;
}

.help-search input:focus {
  outline: none;
  border-color: #5e17eb;
  box-shadow: 0 0 0 2px rgba(94, 23, 235, 0.2);
}

.help-search input::placeholder {
  color: #aaaaaa;
}

.help-search i {
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  color: #aaaaaa;
  font-size: 1.2rem;
}

.help-categories {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 24px;
  margin-bottom: 40px;
}

.help-category {
  background: rgba(15, 15, 35, 0.9);
  border: 1px solid rgba(94, 23, 235, 0.3);
  border-radius: 16px;
  padding: 30px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.help-category:hover {
  transform: translateY(-4px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  border-color: rgba(94, 23, 235, 0.5);
}

.category-icon {
  width: 60px;
  height: 60px;
  border-radius: 12px;
  background: linear-gradient(135deg, #5e17eb, #7c3aed);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
}

.category-icon i {
  font-size: 1.8rem;
  color: white;
}

.category-title {
  color: #ffffff;
  font-size: 1.3rem;
  font-weight: 600;
  margin-bottom: 12px;
}

.category-description {
  color: #aaaaaa;
  font-size: 0.9rem;
  line-height: 1.6;
  margin-bottom: 20px;
}

.category-links {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.help-link {
  color: #5e17eb;
  text-decoration: none;
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 0;
  transition: all 0.3s ease;
}

.help-link:hover {
  color: #7c3aed;
  transform: translateX(4px);
}

.help-link i {
  font-size: 0.8rem;
}

.faq-section {
  margin-top: 40px;
}

.faq-title {
  color: #ffffff;
  font-size: 1.8rem;
  font-weight: 600;
  margin-bottom: 30px;
  text-align: center;
}

.faq-item {
  background: rgba(15, 15, 35, 0.9);
  border: 1px solid rgba(94, 23, 235, 0.3);
  border-radius: 12px;
  margin-bottom: 16px;
  overflow: hidden;
  transition: all 0.3s ease;
}

.faq-question {
  padding: 20px;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: none;
  border: none;
  width: 100%;
  text-align: left;
  color: #ffffff;
  font-size: 1rem;
  font-weight: 500;
}

.faq-question:hover {
  background: rgba(94, 23, 235, 0.1);
}

.faq-question i {
  color: #5e17eb;
  transition: transform 0.3s ease;
}

.faq-item.active .faq-question i {
  transform: rotate(180deg);
}

.faq-answer {
  padding: 0 20px;
  max-height: 0;
  overflow: hidden;
  transition: all 0.3s ease;
}

.faq-item.active .faq-answer {
  padding: 0 20px 20px;
  max-height: 200px;
}

.faq-answer p {
  color: #aaaaaa;
  line-height: 1.6;
  margin: 0;
}

.contact-section {
  background: linear-gradient(135deg, rgba(94, 23, 235, 0.1), rgba(0, 212, 255, 0.1));
  border: 1px solid rgba(94, 23, 235, 0.2);
  border-radius: 16px;
  padding: 40px;
  text-align: center;
  margin-top: 40px;
}

.contact-title {
  color: #ffffff;
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 16px;
}

.contact-description {
  color: #aaaaaa;
  margin-bottom: 30px;
}

.contact-methods {
  display: flex;
  justify-content: center;
  gap: 20px;
  flex-wrap: wrap;
}

.contact-method {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 8px;
  color: #ffffff;
  text-decoration: none;
  transition: all 0.3s ease;
}

.contact-method:hover {
  background: rgba(94, 23, 235, 0.2);
  border-color: rgba(94, 23, 235, 0.4);
  transform: translateY(-2px);
}

.contact-method i {
  color: #5e17eb;
}

/* Responsive Design */
@media (max-width: 768px) {
  .help-hero h1 {
    font-size: 2rem;
  }

  .help-categories {
    grid-template-columns: 1fr;
    gap: 16px;
  }

  .contact-methods {
    flex-direction: column;
    align-items: center;
  }

  .contact-method {
    width: 100%;
    max-width: 250px;
    justify-content: center;
  }
}
</style>
{% endblock %}

{% block content %}
<div class="content-wrapper">
  <div class="content-container">
    <div class="help-container">
      <!-- Help Hero Section -->
      <div class="help-hero">
        <h1>How can we help you?</h1>
        <p>Find answers to common questions, learn how to use SISIMPUR effectively, and get the support you need.</p>

        <div class="help-search">
          <input type="text" placeholder="Search for help topics..." id="help-search">
          <i class="ri-search-line"></i>
        </div>
      </div>

      <!-- Help Categories -->
      <div class="help-categories">
        <div class="help-category" onclick="scrollToSection('getting-started')">
          <div class="category-icon">
            <i class="ri-rocket-line"></i>
          </div>
          <h3 class="category-title">Getting Started</h3>
          <p class="category-description">Learn the basics of using SISIMPUR to create and take quizzes.</p>
          <div class="category-links">
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Creating your first quiz
            </a>
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Understanding question types
            </a>
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Taking flashcard sessions
            </a>
          </div>
        </div>

        <div class="help-category" onclick="scrollToSection('quiz-creation')">
          <div class="category-icon">
            <i class="ri-file-add-line"></i>
          </div>
          <h3 class="category-title">Quiz Creation</h3>
          <p class="category-description">Master the art of creating effective quizzes from your documents.</p>
          <div class="category-links">
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Supported file formats
            </a>
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Optimizing document content
            </a>
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Language settings
            </a>
          </div>
        </div>

        <div class="help-category" onclick="scrollToSection('study-features')">
          <div class="category-icon">
            <i class="ri-brain-line"></i>
          </div>
          <h3 class="category-title">Study Features</h3>
          <p class="category-description">Explore advanced features to enhance your learning experience.</p>
          <div class="category-links">
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Flashcard study sessions
            </a>
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Timed exams
            </a>
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Progress tracking
            </a>
          </div>
        </div>

        <div class="help-category" onclick="scrollToSection('troubleshooting')">
          <div class="category-icon">
            <i class="ri-tools-line"></i>
          </div>
          <h3 class="category-title">Troubleshooting</h3>
          <p class="category-description">Solve common issues and technical problems quickly.</p>
          <div class="category-links">
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Upload issues
            </a>
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Processing errors
            </a>
            <a href="#" class="help-link">
              <i class="ri-arrow-right-s-line"></i>
              Browser compatibility
            </a>
          </div>
        </div>
      </div>

      <!-- FAQ Section -->
      <div class="faq-section">
        <h2 class="faq-title">Frequently Asked Questions</h2>

        <div class="faq-item">
          <button class="faq-question" onclick="toggleFAQ(this)">
            How do I create my first quiz?
            <i class="ri-arrow-down-s-line"></i>
          </button>
          <div class="faq-answer">
            <p>To create your first quiz, click on "Create New Quiz" from the dashboard, upload your document (PDF, DOCX, or TXT), select your preferences, and click "Generate Quiz". The AI will process your document and create questions automatically.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question" onclick="toggleFAQ(this)">
            What file formats are supported?
            <i class="ri-arrow-down-s-line"></i>
          </button>
          <div class="faq-answer">
            <p>SISIMPUR supports PDF, DOCX, and TXT file formats. For best results, ensure your documents have clear, readable text and are well-structured with headings and paragraphs.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question" onclick="toggleFAQ(this)">
            How long does quiz generation take?
            <i class="ri-arrow-down-s-line"></i>
          </button>
          <div class="faq-answer">
            <p>Quiz generation typically takes 1-3 minutes depending on document size and complexity. You'll see a "Processing" status that updates automatically when your quiz is ready.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question" onclick="toggleFAQ(this)">
            Can I edit generated questions?
            <i class="ri-arrow-down-s-line"></i>
          </button>
          <div class="faq-answer">
            <p>Currently, questions are generated automatically by our AI. However, you can download the JSON file to view all questions and answers, and we're working on editing features for future updates.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question" onclick="toggleFAQ(this)">
            Is my data secure and private?
            <i class="ri-arrow-down-s-line"></i>
          </button>
          <div class="faq-answer">
            <p>Yes, your data is secure. We use encryption for all uploads and processing. Your documents and generated quizzes are private to your account and are not shared with other users.</p>
          </div>
        </div>
      </div>

      <!-- Contact Section -->
      <div class="contact-section">
        <h2 class="contact-title">Still need help?</h2>
        <p class="contact-description">Can't find what you're looking for? Our support team is here to help.</p>

        <div class="contact-methods">
          <a href="mailto:support@sisimpur.com" class="contact-method">
            <i class="ri-mail-line"></i>
            Email Support
          </a>
          <a href="#" class="contact-method">
            <i class="ri-chat-3-line"></i>
            Live Chat
          </a>
          <a href="#" class="contact-method">
            <i class="ri-book-line"></i>
            Documentation
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
function toggleFAQ(button) {
  const faqItem = button.parentElement;
  const isActive = faqItem.classList.contains('active');

  // Close all FAQ items
  document.querySelectorAll('.faq-item').forEach(item => {
    item.classList.remove('active');
  });

  // Open clicked item if it wasn't active
  if (!isActive) {
    faqItem.classList.add('active');
  }
}

function scrollToSection(sectionId) {
  // This would scroll to a specific section if implemented
  console.log('Scrolling to:', sectionId);
}

// Search functionality
document.getElementById('help-search').addEventListener('input', function(e) {
  const searchTerm = e.target.value.toLowerCase();
  // Implement search functionality here
  console.log('Searching for:', searchTerm);
});
</script>
{% endblock %}